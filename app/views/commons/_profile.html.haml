.container.profilePage
  .profilePage_user
    .profilePage_user_name
      @
      = user.username
    .profilePage_user_image
      .profilePage_user_actionButton
        - if user == current_user
          = link_to 'Edit', edit_profile_path
        - else 
          - if current_user&.has_followed?(user)
            = link_to 'フォロー中', account_unfollows_path(user), data: {method: 'post'}
          - else 
            = link_to 'フォローする', account_follows_path(user), data: {method: 'post'}
      = user.display_name
      .profilePage_user_introduction
        = user.profile&.introduction

= form_with(model: @profile, url: profile_path, method: 'put', local: true) do |f|

  .circle-avatar
    %img#avatar_img_prev.hidden{:src => "#"}

      - if current_user.persisted? && current_user.avatar_image
        = image_tag current_user.avatar_image, class: 'avatar_present_img'
          
      - else
        = image_tag 'default-avatar.png', class: 'avatar_present_img'
          
        = f.hidden_field :avatar_cache
      = f.file_field :avatar, id: 'post_img'
      = f.submit '保存',id: 'post_btn'

- user.articles.each do |article|
  = render 'commons/article', article: article
  

